import { Markup } from "telegraf";

export default function supportHandler(bot, mainMenu, userState) {

    // Ð“Ð¾Ð»Ð¾Ð²Ð½Ðµ Ð¼ÐµÐ½ÑŽ Ð¿Ñ–Ð´Ñ‚Ñ€Ð¸Ð¼ÐºÐ¸
    bot.hears("ðŸ’° ÐŸÑ–Ð´Ñ‚Ñ€Ð¸Ð¼Ð°Ñ‚Ð¸ Ñ„Ð¾Ð½Ð´", ctx => {
        // â›”ï¸ ÐžÐ‘ÐžÐ’Ê¼Ð¯Ð—ÐšÐžÐ’Ðž ÑÐºÐ¸Ð´Ð°Ñ”Ð¼Ð¾ Ð¿Ð¾Ð¿ÐµÑ€ÐµÐ´Ð½Ñ–Ð¹ ÑÑ†ÐµÐ½Ð°Ñ€Ñ–Ð¹
        userState[ctx.from.id] = { type: "support", mode: "menu" };

        ctx.reply(
            "Ð‘ÑƒÐ´ÑŒ-ÑÐºÐ¸Ð¹ Ð²Ð½ÐµÑÐ¾Ðº Ð´Ð¾Ð¿Ð¾Ð¼Ð°Ð³Ð°Ñ” Ð½Ð°Ð¼ Ð¿Ñ€Ð¾Ð´Ð¾Ð²Ð¶ÑƒÐ²Ð°Ñ‚Ð¸ Ð¿Ñ–Ð´Ñ‚Ñ€Ð¸Ð¼ÑƒÐ²Ð°Ñ‚Ð¸ Ñ€Ð¾Ð´Ð¸Ð½Ð¸ Ð²Ñ–Ð¹ÑÑŒÐºÐ¾Ð²Ð¾Ð¿Ð¾Ð»Ð¾Ð½ÐµÐ½Ð¸Ñ…, " +
            "Ð·Ð½Ð¸ÐºÐ»Ð¸Ñ… Ð±ÐµÐ·Ð²Ñ–ÑÑ‚Ð¸, Ð° Ñ‚Ð°ÐºÐ¾Ð¶ Ð·Ð²Ñ–Ð»ÑŒÐ½ÐµÐ½Ð¸Ñ… Ð· Ð¿Ð¾Ð»Ð¾Ð½Ñƒ Ð“ÐµÑ€Ð¾Ñ—Ð².\n\n" +
            "ÐžÐ±ÐµÑ€Ñ–Ñ‚ÑŒ ÑÐ¿Ð¾ÑÑ–Ð± Ð¿Ñ–Ð´Ñ‚Ñ€Ð¸Ð¼ÐºÐ¸ Ñ„Ð¾Ð½Ð´Ñƒ Ð½Ð¸Ð¶Ñ‡Ðµ ðŸ‘‡",
            Markup.keyboard([
                ["ðŸ’° ÐŸÑ–Ð´Ñ‚Ñ€Ð¸Ð¼Ð°Ñ‚Ð¸ Ñ„Ñ–Ð½Ð°Ð½ÑÐ¾Ð²Ð¾", "ðŸ‡ºðŸ‡¦ Ð—Ð°Ð¼Ð¾Ð²Ð¸Ñ‚Ð¸ Ð¿Ñ€Ð°Ð¿Ð¾Ñ€"],
                ["â†©ï¸ ÐŸÐ¾Ð²ÐµÑ€Ð½ÑƒÑ‚Ð¸ÑÑ Ð½Ð°Ð·Ð°Ð´"]
            ]).resize()
        );
    });

    // Ð¤Ñ–Ð½Ð°Ð½ÑÐ¾Ð²Ð° Ð¿Ñ–Ð´Ñ‚Ñ€Ð¸Ð¼ÐºÐ°
    bot.hears("ðŸ’° ÐŸÑ–Ð´Ñ‚Ñ€Ð¸Ð¼Ð°Ñ‚Ð¸ Ñ„Ñ–Ð½Ð°Ð½ÑÐ¾Ð²Ð¾", ctx => {
        // â—ï¸Ð½Ðµ Ð·Ð¼Ñ–Ð½ÑŽÑ”Ð¼Ð¾ type â€” Ñ†Ðµ Ñ‚Ð¾Ð¹ ÑÐ°Ð¼Ð¸Ð¹ ÑÑ†ÐµÐ½Ð°Ñ€Ñ–Ð¹
        userState[ctx.from.id] = { type: "support", mode: "money" };

        ctx.reply(
            "ðŸ’° ÐžÐ±ÐµÑ€Ñ–Ñ‚ÑŒ Ð·Ñ€ÑƒÑ‡Ð½Ð¸Ð¹ Ð´Ð»Ñ Ð²Ð°Ñ ÑÐ¿Ð¾ÑÑ–Ð± Ð¿Ñ–Ð´Ñ‚Ñ€Ð¸Ð¼ÐºÐ¸:",
            {
                reply_markup: {
                    inline_keyboard: [
                        [{ text: "ðŸ’³ Monobank", url: "https://send.monobank.ua/jar/4y5tgMMtvD" }],
                        [{ text: "ðŸ¦ ÐŸÑ€Ð¸Ð²Ð°Ñ‚24", url: "https://next.privat24.ua/payments/form/%7B%22token%22%3A%22b549284e-8aff-46ad-81a4-b8b01a0212f1%22%7D" }],
                        [{ text: "ðŸŒ PayPal", url: "https://www.paypal.com/donate?business=chakubash.anastasiya@strength.foundation" }]
                    ]
                }
            }
        );
    });

    // Ð—Ð°Ð¼Ð¾Ð²Ð¸Ñ‚Ð¸ Ð¿Ñ€Ð°Ð¿Ð¾Ñ€
    bot.hears("ðŸ‡ºðŸ‡¦ Ð—Ð°Ð¼Ð¾Ð²Ð¸Ñ‚Ð¸ Ð¿Ñ€Ð°Ð¿Ð¾Ñ€", ctx => {
        userState[ctx.from.id] = { type: "support", mode: "flag" };

        ctx.reply(
            "ðŸ‡ºðŸ‡¦ Ð’Ð¸ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð·Ð°Ð¼Ð¾Ð²Ð¸Ñ‚Ð¸ Ð¿Ñ€Ð°Ð¿Ð¾Ñ€ Ð£ÐºÑ€Ð°Ñ—Ð½Ð¸ Ð²Ñ–Ð´ Ð½Ð°ÑˆÐ¾Ð³Ð¾ Ñ„Ð¾Ð½Ð´Ñƒ.\n\n" +
            "Ð’ÐµÑÑŒ Ð¿Ñ€Ð¸Ð±ÑƒÑ‚Ð¾Ðº Ð²Ñ–Ð´ Ð¿Ñ€Ð¾Ð´Ð°Ð¶Ñƒ ÑÐ¿Ñ€ÑÐ¼Ð¾Ð²ÑƒÑ”Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ–Ð´Ñ‚Ñ€Ð¸Ð¼ÐºÑƒ Ñ€Ð¾Ð´Ð¸Ð½ Ð²Ñ–Ð¹ÑÑŒÐºÐ¾Ð²Ð¾Ð¿Ð¾Ð»Ð¾Ð½ÐµÐ½Ð¸Ñ…, " +
            "Ð·Ð½Ð¸ÐºÐ»Ð¸Ñ… Ð±ÐµÐ·Ð²Ñ–ÑÑ‚Ð¸, Ð° Ñ‚Ð°ÐºÐ¾Ð¶ Ð·Ð²Ñ–Ð»ÑŒÐ½ÐµÐ½Ð¸Ñ… Ð· Ð¿Ð¾Ð»Ð¾Ð½Ñƒ Ð“ÐµÑ€Ð¾Ñ—Ð².\n\n" +
            "ÐŸÐµÑ€ÐµÐ¹Ð´Ñ–Ñ‚ÑŒ Ð·Ð° Ð¿Ð¾ÑÐ¸Ð»Ð°Ð½Ð½ÑÐ¼ Ð½Ð¸Ð¶Ñ‡Ðµ, Ñ‰Ð¾Ð± Ð¾Ñ„Ð¾Ñ€Ð¼Ð¸Ñ‚Ð¸ Ð·Ð°Ð¼Ð¾Ð²Ð»ÐµÐ½Ð½Ñ ðŸ‘‡",
            {
                reply_markup: {
                    inline_keyboard: [
                        [
                            {
                                text: "ðŸŽ Ð—Ð°Ð¼Ð¾Ð²Ð¸Ñ‚Ð¸ Ñ‡ÐµÑ€ÐµÐ· Instagram",
                                url: "https://www.instagram.com/p/DIJSZAHtO-l/"
                            }
                        ]
                    ]
                }
            }
        );
    });

    // ðŸ”™ ÐÐ°Ð·Ð°Ð´ â€” Ð¿Ð¾Ð²Ð½Ð¸Ð¹ Ð²Ð¸Ñ…Ñ–Ð´ Ð·Ñ– ÑÑ†ÐµÐ½Ð°Ñ€Ñ–ÑŽ
    bot.hears("â†©ï¸ ÐŸÐ¾Ð²ÐµÑ€Ð½ÑƒÑ‚Ð¸ÑÑ Ð½Ð°Ð·Ð°Ð´", ctx => {
        delete userState[ctx.from.id];
        ctx.reply("ÐžÐ±ÐµÑ€Ñ–Ñ‚ÑŒ Ð¿Ð¾Ñ‚Ñ€Ñ–Ð±Ð½Ð¸Ð¹ Ñ€Ð¾Ð·Ð´Ñ–Ð» ðŸ‘‡", mainMenu);
    });
}